{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/resumen.css' %}">
{% endblock %}
{% block content %}
<div class="cuadro container mt-5 p-4 bg-light border rounded">
    <h1 class="mb-4 text-primary text-center">Detalle de Consulta</h1>

    <div class="card mb-4">
        <div class="card-header">
            Informaci贸n General
        </div>
        <div class="card-body">
            <p><strong>Fecha:</strong> {{ consulta.fecha_consulta }}</p>
            <p><strong>Motivo:</strong> {{ consulta.motivo }}</p>
            <p><strong>Observaciones:</strong> {{ consulta.observaciones }}</p>
        </div>
    </div>

    <div class="row">
        <!-- Diagn贸sticos -->
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header">
                    Diagn贸sticos
                </div>
                <div class="card-body">
                    {% if diagnosticos %}
                        <ul class="list-group">
                        {% for diagnostico in diagnosticos %}
                            <li class="list-group-item">{{ diagnostico.descripcion }}</li>
                        {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay diagn贸sticos registrados.</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Medicamentos -->
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header">
                    Medicamentos
                </div>
                <div class="card-body">
                    {% if medicamentos %}
                        <ul class="list-group">
                        {% for medicamento in medicamentos %}
                            <li class="list-group-item">{{ medicamento.nombre }}</li>
                        {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay medicamentos registrados.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Alergias -->
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header">
                    Alergias
                </div>
                <div class="card-body">
                    {% if alergias %}
                        <ul class="list-group">
                        {% for alergia in alergias %}
                            <li class="list-group-item">{{ alergia.descripcion }}</li>
                        {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay alergias registradas.</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Enfermedades Base -->
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header">
                    Enfermedades Base
                </div>
                <div class="card-body">
                    {% if enfermedades_base %}
                        <ul class="list-group">
                        {% for enfermedad in enfermedades_base %}
                            <li class="list-group-item">{{ enfermedad.descripcion }}</li>
                        {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay enfermedades base registradas.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <a href="{% url 'administrativo:paciente_main' %}" class="btn btn-secondary">Volver</a>
</div>
{% endblock %}
